<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Avoider – ArcadeHub</title>
<link href="../styles.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
.game-wrap{max-width:900px;margin:20px auto;padding:12px}
.canvas-wrap{display:grid;place-items:center;background:#f3f4f6;border:1px solid #e5e7eb;border-radius:12px;min-height:360px}
.controls{margin-top:10px;color:#64748b}
button.cta.small{padding:.55rem .9rem;border-radius:10px}
</style>

</head>
<body>
<header class="site-header">
  <div class="wrap bar">
    <a class="brand" href="../index.html"><img src="../assets/logo.svg" alt="ArcadeHub logo" style="height:36px"><strong class="brand-name">ArcadeHub</strong></a>
    <a class="cta" href="../index.html" style="text-decoration:none;">Back to Home</a>
  </div>
</header>
<main class="wrap section">
  <div class="panel">
    <h1 class="h2">Avoider</h1>
    <div class="game-wrap">
      
<div class="canvas-wrap">
  <canvas id="av" width="480" height="360"></canvas>
</div>

 
<div class="controls small"><strong>How to play:</strong> Move your mouse; avoid falling blocks as long as possible.</div>
<div class="controls"><a class="cta small" id="restartBtn" href="#">Restart</a></div>
 
<script type="module">
import { saveHighScore } from './game-utils.js';
const cv=document.getElementById('av'),cx=cv.getContext('2d'); let px=240,py=180,obs=[],t=0,alive=true;
cv.addEventListener('mousemove', e=>{ const r=cv.getBoundingClientRect(); px=e.clientX-r.left; py=e.clientY-r.top; });
function add(){ obs.push({x:Math.random()*cv.width, y:-20, w:20+Math.random()*30, h:10+Math.random()*20, v:2+Math.random()*2}); }
function loop(){
  t++; if(t%30===0) add();
  cx.fillStyle="#fff"; cx.fillRect(0,0,cv.width,cv.height);
  cx.fillStyle="#111827"; cx.fillRect(px-8,py-8,16,16);
  cx.fillStyle="#ff7b00"; obs.forEach(o=>{ o.y+=o.v; cx.fillRect(o.x,o.y,o.w,o.h); if(px>o.x&&px<o.x+o.w&&py>o.y&&py<o.y+o.h) alive=false; });
  cx.fillStyle="#0f172a"; cx.fillText("Time: "+Math.floor(t/30), 10, 16);
  if(alive){ requestAnimationFrame(loop); } else { saveHighScore('Avoider', Math.floor(t/30)); cx.fillText("Game Over", 220, 160); }
}
loop();
</script>

    </div>
  </div>
</main>
<footer class="footer"><div class="wrap cols"><div class="small">© <span id="year">2025</span> ArcadeHub</div></div></footer>
<script>const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear();</script>
<script type="module" src="./game-utils.js"></script>
</body>
</html>