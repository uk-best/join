<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Brick Breaker – ArcadeHub</title>
<link href="../styles.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
.game-wrap{max-width:900px;margin:20px auto;padding:12px}
.canvas-wrap{display:grid;place-items:center;background:#f3f4f6;border:1px solid #e5e7eb;border-radius:12px;min-height:360px}
.controls{margin-top:10px;color:#64748b}
button.cta.small{padding:.55rem .9rem;border-radius:10px}
</style>

</head>
<body>
<header class="site-header">
  <div class="wrap bar">
    <a class="brand" href="../index.html"><img src="../assets/logo.svg" alt="ArcadeHub logo" style="height:36px"><strong class="brand-name">ArcadeHub</strong></a>
    <a class="cta" href="../index.html" style="text-decoration:none;">Back to Home</a>
  </div>
</header>
<main class="wrap section">
  <div class="panel">
    <h1 class="h2">Brick Breaker</h1>
    <div class="game-wrap">
      
<div class="canvas-wrap">
  <canvas id="cv" width="640" height="360"></canvas>
</div>

 
<div class="controls small"><strong>How to play:</strong> Move with mouse or ← → keys. Press Space to launch the ball.</div>
<div class="controls"><a class="cta small" id="restartBtn" href="#">Restart</a></div>
 
<script type="module">
import { saveHighScore } from './game-utils.js';
const cv=document.getElementById('cv'),cx=cv.getContext('2d');
let ball={x:320,y:200,vx:3,vy:-3,r:7}, paddle={x:280,w:80,h:10,y:330}, bricks=[], rows=4, cols=9, bw=60, bh=16, gap=8, started=false, left=false,right=false;
for(let r=0;r<rows;r++)for(let c=0;c<cols;c++) bricks.push({x:30+c*(bw+gap), y:40+r*(bh+gap), w:bw,h:bh, alive:true});
function draw(){
  cx.clearRect(0,0,cv.width,cv.height); cx.fillStyle="#0f172a"; cx.fillRect(0,0,cv.width,cv.height);
  // bricks
  bricks.forEach(b=>{ if(b.alive){ cx.fillStyle="#ff7b00"; cx.fillRect(b.x,b.y,b.w,b.h);} });
  // paddle
  if(left) paddle.x-=6; if(right) paddle.x+=6; paddle.x=Math.max(0, Math.min(cv.width-paddle.w, paddle.x));
  cx.fillStyle="#fff"; cx.fillRect(paddle.x,paddle.y,paddle.w,paddle.h);
  // ball
  if(started){ ball.x+=ball.vx; ball.y+=ball.vy; }
  else { ball.x=paddle.x+paddle.w/2; ball.y=paddle.y-10; }
  if(ball.x<ball.r||ball.x>cv.width-ball.r) ball.vx*=-1;
  if(ball.y<ball.r) ball.vy*=-1;
  if(ball.y>cv.height){ started=false; ball.vx=3; ball.vy=-3; }
  // collide paddle
  if(ball.y+ball.r>paddle.y && ball.x>paddle.x && ball.x<paddle.x+paddle.w){ ball.vy=-Math.abs(ball.vy); }
  // collide bricks
  bricks.forEach(b=>{
    if(b.alive && ball.x>b.x && ball.x<b.x+b.w && ball.y>b.y && ball.y<b.y+b.h){ b.alive=false; ball.vy*=-1; }
  });
  // ball
  cx.beginPath(); cx.arc(ball.x,ball.y,ball.r,0,Math.PI*2); cx.fillStyle="#ff2e63"; cx.fill();
  requestAnimationFrame(draw); let left=bricks.filter(b=>b.alive).length; saveHighScore('Brick Breaker', (rows*cols-left));
  if(left === 0) { cx.fillText("You Win!", 280, 180); started = false; }
}
cv.addEventListener('mousemove', e=>{ const rect=cv.getBoundingClientRect(); paddle.x = e.clientX-rect.left - paddle.w/2; });
document.addEventListener('keydown', e=>{ if(e.key==='ArrowLeft') left=true; if(e.key==='ArrowRight') right=true; if(e.code==='Space'){ started=true; } });
document.addEventListener('keyup', e=>{ if(e.key==='ArrowLeft') left=false; if(e.key==='ArrowRight') right=false; });
draw();
</script>

    </div>
  </div>
</main>
<footer class="footer"><div class="wrap cols"><div class="small">© <span id="year">2025</span> ArcadeHub</div></div></footer>
<script>const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear();</script>
<script type="module" src="./game-utils.js"></script>
</body>
</html>